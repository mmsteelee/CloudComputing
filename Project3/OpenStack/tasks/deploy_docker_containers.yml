---
- name: Zookeeper Service
  shell: "kubectl apply -f service/zookeeper-service.yaml"
- name: Kafka Service
  shell: "kubectl apply -f service/kafka-service.yaml"
- name: Couchdb Service
  shell: "kubectl apply -f service/couchdb-service.yaml"

- name: Zookeeper Deployment
  shell: "kubectl apply -f deployment/zookeeper-deployment.yaml"
- name: Pause for 15 seconds to build container
  pause:
    seconds: 15
- name: Kafka Deployment
  shell: "kubectl apply -f deployment/kafka-deployment.yaml"
- name: Pause for 15 seconds to build container
  pause:
    seconds: 15
- name: Couchdb Deployment
  shell: "kubectl apply -f deployment/couchdb-deployment.yaml"

- name: Consumer Job
  shell: "kubectl apply -f consumer-job/consumer-deployment.yaml"
...